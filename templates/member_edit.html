<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/bootstrap-3.3.7/css/bootstrap.min.css">
    <title>编辑会员</title>
</head>
<body>

{% include "nav.html" %}

<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3" style="margin-top: 100px">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">编辑会员信息</h3>
                </div>
                <div class="panel-body">
                    <form class="form-horizontal" action="" method="post">
                    {# 默认就是提交到当前页面 #}
                    {# <form class="form-horizontal" action="{{ request.get_full_path }}" method="post"> #}
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="inputid" class="col-sm-2 control-label">会员ID</label>
                            <div class="col-sm-8">
                                <input readonly type="text" name="id" class="form-control" id="inputid"
                                       value="{{ member_obj.id }}">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputphone" class="col-sm-2 control-label">手机号</label>
                            <div class="col-sm-8">
                                <input type="text" name="phone" class="form-control" id="inputphone"
                                       value="{{ member_obj.member.phone }}">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputend" class="col-sm-2 control-label">有效期至</label>
                            <div class="col-sm-8">
                                <input type="date" name="enddate" class="form-control" id="inputend"
                                       value="{{member_obj.end_date|date:"Y-m-d"}}" >
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="selectdeposit" class="col-sm-2 control-label">选择押金</label>
                            <div class="col-sm-8">
                                <select class="form-control" name="deposit" id="selectdeposit">
                                    <option value="0" {% if member_obj.deposit == 0 %}selected{% endif %}>0</option>
                                    <option value="50" {% if member_obj.deposit == 50 %}selected{% endif %}>50</option>
                                    <option value="100" {% if member_obj.deposit == 100 %}selected{% endif %}>100</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="selectparent" class="col-sm-2 control-label">陪同家长</label>
                            <div class="col-sm-8">
                                <select class="form-control" name="parent" id="selectparent">
                                    <option value="母亲" {% if member_obj.parent == "母亲" %}selected{% endif %}>母亲</option>
                                    <option value="父亲" {% if member_obj.parent == "父亲" %}selected{% endif %}>父亲</option>
                                    <option value="其他" {% if member_obj.parent == "其他" %}selected{% endif %}>其他</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputname" class="col-sm-2 control-label">会员姓名</label>
                            <div class="col-sm-8">
                                <input type="text" name="name" class="form-control" id="inputname"
                                       value={% if member_obj.name %}{{member_obj.name}}
                                           {% else %}""{% endif %} placeholder="选填">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputgirl" class="col-sm-2 control-label">女童年龄</label>
                            <div class="col-sm-8">
                                <input type="text" name="girl" class="form-control" id="inputgirl"
                                       value={% if member_obj.age_of_girl %}{{member_obj.age_of_girl}}
                                           {% else %}""{% endif %} placeholder="选填（5,7）">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputboy" class="col-sm-2 control-label">男童年龄</label>
                            <div class="col-sm-8">
                                <input type="text" name="boy" class="form-control" id="inputboy"
                                       value={% if member_obj.age_of_boy %}{{member_obj.age_of_boy}}
                                           {% else %}""{% endif %} placeholder="选填（5,7）">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputmemo" class="col-sm-2 control-label">备注信息</label>
                            <div class="col-sm-8">
                                <input type="text" name="memo" class="form-control" id="inputmemo"
                                       value={% if member_obj.memo %}{{member_obj.memo}}
                                           {% else %}""{% endif %} placeholder="选填">
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-8">
                                <button type="submit" class="btn btn-primary btn-block">提交</button>
                            </div>
                        </div>
                        <p class="text-danger text-center">{{ error }}</p>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{#<form action="/book_edit/" method="post">#}
{#    <p  style="display: none">id#}
{#        <input type="text" name="id" value="{{ book.id }}">#}
{#    </p>#}
{#    <p>书目：#}
{#        <input type="text" name="bookname" value="{{ book.bookname }}">#}
{#    </p>#}
{#    <p>#}
{#        <input type="submit" value="提交">#}
{#    </p>#}
{#    <p style="color: red">{{ error }}</p>#}
{#</form>#}

<script src="/static/jquery-3.5.1.min.js"></script>
<script src="/static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
</body>
</html>